### C 프로그래밍 13주차 정리노트 8조 김다은, 유시연





#### fopen() 함수의 형식:

fopen(const char*(1), const char*(2))

(1): 경로를 포함한 파일명 (2): 파일 모드(쓰기, 읽기 등을 결정)

사용 예:

```jsx
FILE *fp;
fp = fopen("input.text", "r"); //파일이 제대로 열리면 주소값
//파일이 제대로 열리지 않으면 NULL이 저장된다. 
```

#### fclose() 함수의 형식:

```jsx
FILE *fp;
...
fclose(fp); //파일이 성공적으로 닫히면 0, 그렇지 않으면 EOF(Error Of File)반환 
//파일을 닫으면 파일 입출력에 사용했던 메모리 공간을 비운다.
```

##### 예제 12-1 문자를 파일에 출력하기 

Q. ‘fopen’ 대신 ‘fopen_s’를 사용하라는 에러 메시지가 떴다 이유가 무엇을까?

A. ‘fopen_s’는 ‘fopen’의 새로 바뀐 함수로, 기존에 사용하던 함수보다 안정성과 기능을 보완되어 나왔다. 



##### 예제 12-2 행을 파일에 출력하기

A. fopen 함수만으로는 행을 파일에 출력하지 못 하지만,  파일 문자열의 배열을 가리키는 포인터인 fgets()함수를 사용하여 출력하게 만들 수 있다는 것을 알았다. 



#### fread()와 fwrite() 함수의 형식:

```jsx
함수명(void* 포인터, 바이트 크기, 블록 수, FILE* 포인터);
//fread()와 fwrite()함수는 블록 단위로 입출력한다. 
//사용 예
fread(&a, sizeof(int), 4, fp);
fwrite(&b, sizeof(b), 1, fp);
```


##### 예제 12-3

A. fwrite() 함수를 사용하여 자료형이나 버퍼의 크기를 기록할 수 있었다. 



##### 예제12-4

A. fprintf()와 fscanf() 함수는 기존 printf() 함수와 scanf() 함수와 비슷하여 입력한 값을 파일에 출력해주는 것을 확인할 수 있었다. 

Q. fgets() 함수와 fscanf() 함수의 차이는무엇인가요?

A. fscanf() 함수의 경우 scanf() 함수의 특성을 이어받아 띄어쓰기 , \n 이 입력되면 각각 별도의 데이터로 간주하지만 fgets() 함수같은 경우는 엔터가 입력되기까지를 하나의 데이터로 간주한다. 



#### fseek() 함수의 형식:

```jsx
int *seek(FILE* fp, long offset, int origin)
//사용 예
fseek(fp, 100L, SEEK_SET) // 파일의 처음 위치에서 100바이트 이동
fseek(fp, 100L, SEEK_CUR) // 파일의 현재 위치에서 100바이트 이동
fseek(fp, -100L, SEEK_END) // 파일의 끝에서 100바이트 앞으로 이동 
```



##### 예제 12-5

A. fseek() 함수를 이용하면 파일의 읽기.쓰기 위치를 이동시킬 수 있다는 것을 알았다. 



##### 예제 12-6

A. fsetpos() 함수로 개방된 파일에서 파일 포인터의 위치를 설정하고, fgerpose() 함수는 개방된 파일에서 파일 포인터의 위치를 얻어내는 차이가 있다는 것을 알 수 있었다. 



#### 매크로 상수 형식:

```jsx
#define 매크로명 대체할 값(리스트명 수, 문자열 등)
//사용 예
#define PI 3.141592
#define MSG "Hello!"
//매크로를 정의하는 문장은 마지막에 세미콜론(;)을 넣치 않는다!
```


##### 예제 12-7

A. #define 키워드를 이용해 매크로를 설정할 수 있음을 알 수 있었다. 

매크로를 이용하면 긴 내용을 따로 쓸 필요 없이 간단하게 작성할 수 있음을 깨달았다.
